import{l as a,p as ae,Q as G,U as $,o as l,c as r,a as e,f as n,v,e as P,d as S,F as f,y,t as i,x as A,n as ie,b as d,w,u as C,a0 as J,K as j,T as W,O as V}from"./app-BnXZCgYm.js";import{C as ne}from"./ckeditor-CcN585AM.js";const de={class:"max-w-full"},ce={class:"mx-auto"},ue={class:"relative overflow-hidden bg-white shadow-md sm:rounded-lg"},pe={class:"flex flex-col items-center justify-between p-6 space-y-3 md:flex-row md:space-y-0 md:space-x-4"},me={class:"w-full md:w-1/2"},be={class:"flex items-center"},fe=e("label",{for:"simple-search",class:"sr-only"},"Search",-1),he={class:"relative w-full"},_e=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1),xe={class:"flex flex-col items-stretch justify-end flex-shrink-0 w-full space-y-2 md:w-auto md:flex-row md:space-y-0 md:items-center md:space-x-3"},ve=e("i",{class:"bx bx-plus-medical"},null,-1),ye={class:"w-full p-3"},ge={class:"w-full text-sm text-left border-opacity-50 text-textColor border-slate-200"},we=e("thead",{class:"pb-3 capitalize border-b-2 text-2xs text-textColor border-white-50"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 truncate"},"No"),e("th",{scope:"col",class:"px-4 py-3 truncate"},"Product name"),e("th",{scope:"col",class:"px-4 py-3"},"Category"),e("th",{scope:"col",class:"px-4 py-3"},"Stock"),e("th",{scope:"col",class:"px-4 py-3"},"Price"),e("th",{scope:"col",class:"px-4 py-3"},"Satuan"),e("th",{scope:"col",class:"px-4 py-3"},"Status"),e("th",{scope:"col",class:"px-4 py-3 text-center"},"Action")])],-1),Ce={scope:"row",class:"px-4 font-medium text-textColor whitespace-nowrap"},ke={scope:"row",class:"px-4 font-medium text-textColor whitespace-nowrap"},Pe={class:"px-4 font-medium text-textColor whitespace-nowrap"},Se={class:"px-4 font-medium text-textColor whitespace-nowrap"},Ve={class:"px-4 font-medium text-textColor whitespace-nowrap"},Ue={class:"px-4 font-medium text-textColor whitespace-nowrap"},Te={class:"px-4 font-medium text-textColor whitespace-nowrap"},qe={key:0,class:"text-xs font-semibold text-primaryColor whitespace-nowrap"},Be={key:1,class:"text-xs font-semibold truncate text-Red"},je={class:"flex items-center px-4 mx-2 font-medium text-textColor whitespace-nowrap"},ze=["id"],Ne={class:"relative z-50 block"},Fe={class:"flex items-center justify-center w-8 h-8 rounded-full dropdown dropdown-left hover:bg-white-50 hover:cursor-pointer",tabindex:"0"},De=e("button",{class:"relative"},[e("i",{class:"m-auto mt-1 bx bx-dots-vertical-rounded bx-xs text-slate-200"})],-1),$e={class:"w-40 bg-white rounded-md shadow dropdown-content menu"},Ae={class:"w-full py-1 rounded-md hover:bg-white-50"},Ie=["onClick"],Le=e("i",{class:"bx bx-pencil text-[#F3CA52] text-[16px]"},null,-1),Me={class:"w-full py-1 rounded-md hover:bg-white-50"},Ee=["onClick"],Re=e("i",{class:"bx bx-trash text-Red text-[16px]"},null,-1),He={key:0},Oe=e("td",{colspan:"8",class:"px-4 py-3 font-bold text-center"}," There are no products. ",-1),Ke=[Oe],Qe={class:"flex flex-col items-start justify-between p-4 space-y-3 md:flex-row md:items-center md:space-y-0","aria-label":"Table navigation"},Ge={class:"text-sm font-normal text-textColor"},Je={class:"font-semibold text-textColor"},We={class:"font-semibold text-textColor"},Xe={class:"inline-flex items-stretch -space-x-px"},Ye=["onClick","innerHTML"],Ze={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 bg-text-grey"},et={class:"bg-white p-8 rounded shadow-lg z-100 w-1/2 max-h-[80vh] overflow-y-auto"},tt=e("h2",{class:"mb-4 text-2xl font-bold"},"Add Product",-1),ot={class:"col-span-2"},st={class:"mb-4"},lt=e("label",{for:"productImage",class:"block mb-2 text-gray-700"},"Tambahkan gambar produk",-1),rt={class:"mb-4"},at=e("label",{for:"productName",class:"block text-gray-700"},"Product Name",-1),it={class:"mb-4"},nt=e("label",{for:"category",class:"block text-gray-700"},"Category",-1),dt=e("option",{disabled:"",value:""},"Pilih Category",-1),ct=["value"],ut={class:"mb-4"},pt=e("label",{for:"quantity",class:"block text-gray-700"},"Stock",-1),mt={class:"mb-4"},bt=e("label",{for:"price",class:"block text-gray-700"},"Price",-1),ft={class:"mb-4"},ht=e("label",{for:"stock",class:"block text-gray-700"},"satuan",-1),_t=e("option",{value:"",disabled:""},"Pilih Satuan",-1),xt=["value"],vt={class:"col-span-2"},yt={class:"mb-4"},gt=e("label",{for:"deskripsi",class:"block text-gray-700"},"Deskripsi",-1),wt={class:"col-span-2 justify-self-center"},Ct={class:"flex justify-center"},kt=e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 mr-2 text-xs font-semibold tracking-widest uppercase transition duration-150 ease-in-out bg-white border-2 rounded-md text-primaryColor border-primaryColor"}," Save ",-1),Pt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-opacity-50 bg-text-grey"},St={class:"bg-white p-8 rounded shadow-lg z-100 w-1/2 max-h-[80vh] overflow-y-auto"},Vt=e("h2",{class:"mb-4 text-2xl font-bold"},"Edit Product",-1),Ut={class:"col-span-2"},Tt={class:"mb-4"},qt=e("label",{for:"productImage",class:"block text-gray-700"},"Product Image",-1),Bt={class:"col-span-2"},jt={class:"mb-4"},zt=e("label",{for:"productImage",class:"block text-gray-700"},"List Product Images",-1),Nt={class:"flex flex-wrap"},Ft=["src"],Dt={class:"absolute top-0 right-8 transform -translate-y-1/2 w-3.5 h-3.5 bg-red-400 border-2 border-red dark:border-gray-800 rounded-full"},$t=["onClick"],At={class:"mb-4"},It=e("label",{for:"productName",class:"block text-gray-700"},"Product Name",-1),Lt={class:"mb-4"},Mt=e("label",{for:"category",class:"block text-gray-700"},"Category",-1),Et=e("option",{disabled:"",value:""},"Pilih Category",-1),Rt=["value"],Ht={class:"mb-4"},Ot=e("label",{for:"quantity",class:"block text-gray-700"},"Stock",-1),Kt={class:"mb-4"},Qt=e("label",{for:"price",class:"block text-gray-700"},"Price",-1),Gt={class:"mb-4"},Jt=e("label",{for:"stock",class:"block text-gray-700"},"satuan",-1),Wt=e("option",{value:"",disabled:""},"Pilih Satuan",-1),Xt=["value"],Yt={class:"col-span-2"},Zt={class:"mb-4"},eo=e("label",{for:"deskripsi",class:"block text-gray-700"},"Deskripsi",-1),to={class:"col-span-2 justify-self-center"},oo={class:"flex justify-center"},so=e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 mr-2 text-xs font-semibold tracking-widest capitalize transition duration-150 ease-in-out bg-white border-2 rounded-md text-primaryColor border-primaryColor"}," Save ",-1),ao={__name:"Products",props:{dataProducts:Array},emits:["search"],setup(U,{emit:X}){const z=a(""),Y=X;ae(z,s=>{Y("search",s)});const Z=s=>{V.get(s)},I=G().props.Categories,L=G().props.Satuans,M=a(ne),E={height:"450px",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","|","insertTable","|","mediaEmbed","|","undo","redo"],table:{toolbar:["tableColumn","tableRow","mergeTableCells"]},language:"nl"},h=a([]),T=a(!1),q=a(!1),R=s=>{console.log(s),h.value.push(s)},ee=a(""),N=a(!1),H=s=>{ee.value=s.url,N.value=!0},O=s=>{console.log(s)},F=a(""),c=a(""),u=a(""),p=a(""),m=a(""),B=a([]),_=a(""),k=a(""),te=async()=>{const s=new FormData;s.append("name",c.value),s.append("price",u.value),s.append("stock",p.value),s.append("deskripsi",m.value),s.append("category_id",_.value),s.append("satuan_id",k.value);for(const o of h.value)s.append("url[]",o.raw);try{await V.post(route("product.add"),s,{onSuccess:o=>{Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,title:o.props.flash.success}),N.value=!1,K()}})}catch(o){console.log(o)}q.value=!1},K=()=>{F.value="",c.value="",u.value="",p.value="",m.value="",B.value=[]},oe=(s,o)=>{console.log(s,o),F.value=s.id,c.value=s.name,u.value=s.price,p.value=s.stock,m.value=s.deskripsi,k.value=s.satuan_id,_.value=s.category_id,B.value=s.product_image,T.value=!0,N.value=!0},se=async()=>{const s=new FormData;s.append("name",c.value),s.append("price",u.value),s.append("stock",p.value),s.append("deskripsi",m.value),s.append("category_id",_.value),s.append("satuan_id",k.value),s.append("_method","PUT");for(const o of h.value)s.append("url[]",o.raw);try{await V.post("/product/update/prosess/"+F.value,s,{onSuccess:o=>{K(),Swal.fire({toast:!0,icon:"success",position:"top-end",timer:2e3,timerProgressBar:!0,showConfirmButton:!1,title:o.props.flash.success})}})}catch(o){console.log(o)}T.value=!1},le=(s,o)=>{Swal.fire({title:"Are you Sure",text:"This actions cannot undo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"no",confirmButtonText:"yes, delete!"}).then(b=>{if(b.isConfirmed)try{V.delete(route("product.delete",s.id),{onSuccess:g=>{this.delete(s,o),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,title:g.props.flash.success})}})}catch(g){console.log(g)}})},re=async(s,o)=>{try{await V.delete(route("image.delete",+s.id),{onSuccess:b=>{B.value.splice(o,1),Swal.fire({toast:!0,icon:"success",position:"top-end",showConfirmButton:!1,title:b.props.flash.success})}})}catch(b){console.log(b)}};return(s,o)=>{const b=$("el-icon"),g=$("el-upload"),Q=$("ckeditor");return l(),r(f,null,[e("section",de,[e("div",ce,[e("div",ue,[e("div",pe,[e("div",me,[e("div",be,[fe,e("div",he,[_e,n(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>z.value=t),type:"text",id:"simple-search",class:"block w-full p-2 pl-10 text-sm bg-white border rounded-lg border-primaryColor text-textColor focus:border-primaryColor focus:ring focus:ring-primaryColor",placeholder:"Search",required:""},null,512),[[v,z.value]])])])]),e("div",xe,[e("button",{type:"button",onClick:o[1]||(o[1]=P(t=>q.value=!0,["prevent"])),class:"px-4 py-2 text-sm font-medium rounded-lg bg-hijau-1 hover:ring-2 hover:ring-primaryColor focus:outline-none text-primaryColor"},[ve,S(" Tambahkan produk ")])])]),e("div",ye,[e("table",ge,[we,e("tbody",null,[(l(!0),r(f,null,y(U.dataProducts.data,(t,x)=>(l(),r("tr",{key:x,class:"border-b-2 border-white-50"},[e("td",Ce,i(x+1),1),e("td",ke,i(t.name),1),e("td",Pe,i(t.category.name),1),e("td",Se,i(t.stock),1),e("td",Ve,"Rp."+i(t.price),1),e("td",Ue,i(t.satuan.symbol),1),e("td",Te,[t.stock>0?(l(),r("span",qe," inStock ")):(l(),r("span",Be," Out of Stock "))]),e("td",je,[e("div",{id:`${t.id}`,class:"flex items-center gap-4 bg-white rounded text-textColor"},[e("div",Ne,[e("div",Fe,[De,e("ul",$e,[e("li",Ae,[e("a",{onClick:P(D=>oe(t),["prevent"]),class:"flex hover:text-slate-300"},[Le,S(" Edit ")],8,Ie)]),e("li",Me,[e("a",{onClick:P(D=>le(t,x),["prevent"]),class:"flex hover:text-slate-300"},[Re,S(" Hapus ")],8,Ee)])])])])],8,ze)])]))),128)),s.product===0?(l(),r("tr",He,Ke)):A("",!0)])])]),e("nav",Qe,[e("span",Ge,[S(" Showing "),e("span",Je,"1-"+i(U.dataProducts.per_page),1),S(" of "),e("span",We,i(U.dataProducts.total),1)]),e("ul",Xe,[(l(!0),r(f,null,y(U.dataProducts.links,(t,x)=>(l(),r("li",{key:x},[e("a",{href:"#",onClick:D=>Z(t.url),class:ie([{" bg-blue text-dark hover:text-white hover:cursor-text hover:bg-primaryColor":t.active},"flex items-center justify-center px-3 py-2 text-sm leading-tight bg-white border border-gray-300 text-textColor"]),innerHTML:t.label},null,10,Ye)]))),128))])])])])]),d(W,{name:"modal"},{default:w(()=>[q.value?(l(),r("div",Ze,[e("div",et,[tt,e("form",{onSubmit:P(te,["prevent"]),class:"grid grid-cols-2 gap-4 mt-8"},[e("div",ot,[e("div",st,[lt,d(g,{"file-list":h.value,"onUpdate:fileList":o[2]||(o[2]=t=>h.value=t),"list-type":"picture-card","on-preview":H,"on-remove":O,"on-change":R,class:"w-full h-full"},{default:w(()=>[d(b,null,{default:w(()=>[d(C(J))]),_:1})]),_:1},8,["file-list"])])]),e("div",rt,[at,n(e("input",{type:"text",id:"productName","onUpdate:modelValue":o[3]||(o[3]=t=>c.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,c.value]])]),e("div",it,[nt,n(e("select",{id:"category","onUpdate:modelValue":o[4]||(o[4]=t=>_.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},[dt,(l(!0),r(f,null,y(C(I),t=>(l(),r("option",{key:t.id,value:t.id},i(t.name),9,ct))),128))],512),[[j,_.value]])]),e("div",ut,[pt,n(e("input",{type:"number",id:"quantity","onUpdate:modelValue":o[5]||(o[5]=t=>p.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,p.value]])]),e("div",mt,[bt,n(e("input",{type:"number",id:"price","onUpdate:modelValue":o[6]||(o[6]=t=>u.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,u.value]])]),e("div",ft,[ht,n(e("select",{type:"number","onUpdate:modelValue":o[7]||(o[7]=t=>k.value=t),id:"stock",class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},[_t,(l(!0),r(f,null,y(C(L),t=>(l(),r("option",{key:t.id,value:t.id},i(t.satuan)+" | "+i(t.symbol),9,xt))),128))],512),[[j,k.value]])]),e("div",vt,[e("div",yt,[gt,d(Q,{editor:M.value,modelValue:m.value,"onUpdate:modelValue":o[8]||(o[8]=t=>m.value=t),config:E,class:"w-full mt-1"},null,8,["editor","modelValue"])])]),e("div",wt,[e("div",Ct,[e("button",{type:"button",class:"inline-flex items-center px-4 py-2 mr-2 text-xs font-semibold tracking-widest uppercase transition duration-150 ease-in-out bg-white border-2 rounded-md text-primaryColor border-primaryColor",onClick:o[9]||(o[9]=t=>q.value=!1)}," Cancel "),kt])])],32)])])):A("",!0)]),_:1}),d(W,{name:"modal"},{default:w(()=>[T.value?(l(),r("div",Pt,[e("div",St,[Vt,e("form",{onSubmit:P(se,["prevent"]),class:"grid grid-cols-2 gap-4 mt-8"},[e("div",Ut,[e("div",Tt,[qt,d(g,{"file-list":h.value,"onUpdate:fileList":o[10]||(o[10]=t=>h.value=t),"list-type":"picture-card","on-preview":H,"on-remove":O,"on-change":R},{default:w(()=>[d(b,null,{default:w(()=>[d(C(J))]),_:1})]),_:1},8,["file-list"])])]),e("div",Bt,[e("div",jt,[zt,e("div",Nt,[(l(!0),r(f,null,y(B.value,(t,x)=>(l(),r("div",{key:t.id,class:"relative w-32 h-32 mb-4 mr-4"},[e("img",{class:"w-full h-full rounded",src:`/${t.url}`,alt:""},null,8,Ft),e("span",Dt,[e("span",{onClick:D=>re(t,x),class:"absolute text-xs font-bold transform -translate-x-1/2 -translate-y-1/2 text-red top-1/2 left-1/2"},"x",8,$t)])]))),128))])])]),e("div",At,[It,n(e("input",{type:"text",id:"productName","onUpdate:modelValue":o[11]||(o[11]=t=>c.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,c.value]])]),e("div",Lt,[Mt,n(e("select",{id:"category","onUpdate:modelValue":o[12]||(o[12]=t=>_.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},[Et,(l(!0),r(f,null,y(C(I),t=>(l(),r("option",{key:t.id,value:t.id},i(t.name),9,Rt))),128))],512),[[j,_.value]])]),e("div",Ht,[Ot,n(e("input",{type:"number",id:"quantity","onUpdate:modelValue":o[13]||(o[13]=t=>p.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,p.value]])]),e("div",Kt,[Qt,n(e("input",{type:"number",id:"price","onUpdate:modelValue":o[14]||(o[14]=t=>u.value=t),class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},null,512),[[v,u.value]])]),e("div",Gt,[Jt,n(e("select",{type:"number","onUpdate:modelValue":o[15]||(o[15]=t=>s.satuan=t),id:"stock",class:"mt-1 block w-full p-2 bg-white border border-[#333] rounded-md focus:border-primaryColor focus:ring focus:ring-primaryColor",required:""},[Wt,(l(!0),r(f,null,y(C(L),t=>(l(),r("option",{key:t.id,value:t.id},i(t.satuan)+"| "+i(t.symbol),9,Xt))),128))],512),[[j,s.satuan]])]),e("div",Yt,[e("div",Zt,[eo,d(Q,{editor:M.value,modelValue:m.value,"onUpdate:modelValue":o[16]||(o[16]=t=>m.value=t),config:E,class:"w-full mt-1"},null,8,["editor","modelValue"])])]),e("div",to,[e("div",oo,[e("button",{type:"button",class:"inline-flex items-center px-4 py-2 mr-2 text-xs font-semibold tracking-widest capitalize transition duration-150 ease-in-out bg-white border-2 rounded-md text-primaryColor border-primaryColor",onClick:o[17]||(o[17]=t=>T.value=!1)}," Cancel "),so])])],32)])])):A("",!0)]),_:1})],64)}}};export{ao as default};
