import{X as S,Q as C,g as v,l as A,o as d,c as p,a as i,t as O,b as x,w as y,u as c,i as w,x as U,O as q}from"./app-BnXZCgYm.js";class j{constructor(e,t,s){this.name=e,this.definition=t,this.bindings=t.bindings??{},this.wheres=t.wheres??{},this.config=s}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e;return((e=this.template.match(/{[^}?]+\??}/g))==null?void 0:e.map(t=>({name:t.replace(/{|\??}/g,""),required:!/\?}$/.test(t)})))??[]}matchesUrl(e){if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/(\/?){([^}?]*)(\??)}/g,(n,a,g,$)=>{var l;const m=`(?<${g}>${((l=this.wheres[g])==null?void 0:l.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return $?`(${a}${m})?`:`${a}${m}`}).replace(/^\w+:\/\//,""),[s,r]=e.replace(/^\w+:\/\//,"").split("?"),o=new RegExp(`^${t}/?$`).exec(decodeURI(s));if(o){for(const n in o.groups)o.groups[n]=typeof o.groups[n]=="string"?decodeURIComponent(o.groups[n]):o.groups[n];return{params:o.groups,query:S.parse(r)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(s,r,o)=>{if(!o&&[null,void 0].includes(e[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(this.wheres[r]&&!new RegExp(`^${o?`(${this.wheres[r]})?`:this.wheres[r]}$`).test(e[r]??""))throw new Error(`Ziggy error: '${r}' parameter does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURI(e[r]??"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(`${this.origin}//`,`${this.origin}/`).replace(/\/+$/,""):this.template}}class E extends String{constructor(e,t,s=!0,r){if(super(),this._config=r??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this._config={...this._config,absolute:s},e){if(!this._config.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this._route=new j(e,this._config.routes[e],this._config),this._params=this._parse(t)}}toString(){const e=Object.keys(this._params).filter(t=>!this._route.parameterSegments.some(({name:s})=>s===t)).filter(t=>t!=="_query").reduce((t,s)=>({...t,[s]:this._params[s]}),{});return this._route.compile(this._params)+S.stringify({...e,...this._params._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,s)=>typeof t=="boolean"?Number(t):s(t)})}_unresolve(e){e?this._config.absolute&&e.startsWith("/")&&(e=this._location().host+e):e=this._currentUrl();let t={};const[s,r]=Object.entries(this._config.routes).find(([o,n])=>t=new j(o,n,this._config).matchesUrl(e))||[void 0,void 0];return{name:s,...t,route:r}}_currentUrl(){const{host:e,pathname:t,search:s}=this._location();return(this._config.absolute?e+t:t.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+s}current(e,t){const{name:s,params:r,query:o,route:n}=this._unresolve();if(!e)return s;const a=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(s);if([null,void 0].includes(t)||!a)return a;const g=new j(s,n,this._config);t=this._parse(t,g);const $={...r,...o};if(Object.values(t).every(l=>!l)&&!Object.values($).some(l=>l!==void 0))return!0;const m=(l,h)=>Object.entries(l).every(([u,f])=>Array.isArray(f)&&Array.isArray(h[u])?f.every(P=>h[u].includes(P)):typeof f=="object"&&typeof h[u]=="object"&&f!==null&&h[u]!==null?m(f,h[u]):h[u]==f);return m(t,$)}_location(){var r,o,n;const{host:e="",pathname:t="",search:s=""}=typeof window<"u"?window.location:{};return{host:((r=this._config.location)==null?void 0:r.host)??e,pathname:((o=this._config.location)==null?void 0:o.pathname)??t,search:((n=this._config.location)==null?void 0:n.search)??s}}get params(){const{params:e,query:t}=this._unresolve();return{...e,...t}}has(e){return Object.keys(this._config.routes).includes(e)}_parse(e={},t=this._route){e??(e={}),e=["string","number"].includes(typeof e)?[e]:e;const s=t.parameterSegments.filter(({name:r})=>!this._config.defaults[r]);return Array.isArray(e)?e=e.reduce((r,o,n)=>s[n]?{...r,[s[n].name]:o}:typeof o=="object"?{...r,...o}:{...r,[o]:""},{}):s.length===1&&!e[s[0].name]&&(e.hasOwnProperty(Object.values(t.bindings)[0])||e.hasOwnProperty("id"))&&(e={[s[0].name]:e}),{...this._defaults(t),...this._substituteBindings(e,t)}}_defaults(e){return e.parameterSegments.filter(({name:t})=>this._config.defaults[t]).reduce((t,{name:s},r)=>({...t,[s]:this._config.defaults[s]}),{})}_substituteBindings(e,{bindings:t,parameterSegments:s}){return Object.entries(e).reduce((r,[o,n])=>{if(!n||typeof n!="object"||Array.isArray(n)||!s.some(({name:a})=>a===o))return{...r,[o]:n};if(!n.hasOwnProperty(t[o]))if(n.hasOwnProperty("id"))t[o]="id";else throw new Error(`Ziggy error: object passed as '${o}' parameter is missing route model binding key '${t[o]}'.`);return{...r,[o]:n[t[o]]}},{})}valueOf(){return this.toString()}check(e){return this.has(e)}}function b(_,e,t,s){const r=new E(_,e,t,s);return _?r.toString():r}const R={class:"flex flex-row shadow-md justify-self-start"},Z={class:"flex flex-col p-4 bg-white rounded-r-lg rounded-lg overflow-hidden"},B={key:0,class:"flex items-center gap-3"},N={class:"avatar placeholder"},V={class:"bg-slate-200 text-neutral-content rounded-full w-12"},k={class:"text-2xl"},I={class:"text-xl capitalize text-indigo-500"},T={key:1,class:"flex avatar items-center gap-3"},z={class:"w-24 rounded-full"},H=["src","alt"],L=i("div",{class:"border-t mt-6 border-slate-200 opacity-50"},null,-1),Q={class:"flex flex-col py-4"},D=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-user"})],-1),F=i("span",{class:"text-sm font-medium"},"Profile",-1),G={key:0},M=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-shopping-bag"})],-1),W=i("span",{class:"text-sm font-medium"},"Product",-1),X={key:1},J=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-store"})],-1),K=i("span",{class:"text-sm font-medium"},"Open Store",-1),Y={key:2},ee=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-history"})],-1),te=i("span",{class:"text-sm font-medium"},"History",-1),se=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-chat"})],-1),re=i("span",{class:"text-sm font-medium"},"Chats",-1),oe=i("span",{class:"ml-auto mr-6 text-sm bg-red-100 rounded-full px-3 py-px text-hoverPrimary"},"5",-1),ie=i("span",{class:"inline-flex items-center justify-center h-12 w-12 text-lg text-gray-400"},[i("i",{class:"bx bx-log-out"})],-1),ne=i("span",{class:"text-sm font-medium"},"Logout",-1),ae=[ie,ne],ce={__name:"Sidebar",setup(_){const e=C(),t=v(()=>e.props.auth.user.name.charAt(0).toUpperCase()),s=A(null),r=e.props.auth.user,o=v(()=>r.avatar_user?`/storage/User/Avatar/${r.avatar_user}`:null);v(()=>s.value||(e.props.auth.user.avatar_user?e.props.auth.user.avatar_user:null));const n=async()=>{q.post(b("auth.logout")),location.reload()};return(a,g)=>(d(),p("div",R,[i("div",Z,[o.value?(d(),p("div",T,[i("div",z,[i("img",{class:"block w-24 h-24 rounded-full m-auto shadow",src:o.value,alt:a.$page.props.auth.user.name},null,8,H)])])):(d(),p("div",B,[i("div",N,[i("div",V,[i("span",k,O(t.value),1)])]),i("span",I,O(a.$page.props.auth.user.name),1)])),L,i("ul",Q,[i("li",null,[x(c(w),{href:c(b)("userProfile"),class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor"},{default:y(()=>[D,F]),_:1},8,["href"])]),a.$page.props.auth.seller?(d(),p("li",G,[x(c(w),{href:c(b)("userProducts"),class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor"},{default:y(()=>[M,W]),_:1},8,["href"])])):(d(),p("li",X,[x(c(w),{href:c(b)("userStore"),class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor"},{default:y(()=>[J,K]),_:1},8,["href"])])),a.$page.props.auth.seller?(d(),p("li",Y,[x(c(w),{href:c(b)("userHistory"),class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor"},{default:y(()=>[ee,te]),_:1},8,["href"])])):U("",!0),i("li",null,[x(c(w),{href:"/chat",class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor"},{default:y(()=>[se,re,oe]),_:1})]),i("li",null,[i("a",{class:"flex flex-row items-center h-12 transform hover:translate-x-2 transition-transform ease-in duration-200 text-gray-500 hover:text-primaryColor",onClick:n},ae)])])])]))}},he=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{he as S,ce as _,b as r};
