import{m as $,o as a,c as o,n as k,L as S,a as e,f as z,v as I,u as n,e as O,l as j,p as T,a1 as N,F as C,y as M,t as p,b as r,w as u,d,i as x,M as g,N as y,x as w}from"./app-BnXZCgYm.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                   */const A={__name:"UserStatus",props:{user:{type:Object,required:!0}},setup(t){const i=t;return $(()=>{console.log(i.user)}),(c,s)=>(a(),o("span",{class:k([t.user.is_online?"bg-green-500":"bg-red-500","status-indicator"])},null,2))}},H=b(A,[["__scopeId","data-v-61e88071"]]),P={class:"fixed bottom-0 w-full border-b-2 border-white-50"},V={class:"flex items-center max-w-[980px]"},U=e("button",{type:"submit",class:"fixed z-10 right-5 text-center items-center text-slate-200 hover:text-slate-300"},[e("i",{class:"bx bxs-send bx-sm"})],-1),B={__name:"ChatInput",props:{receiver:Object,messages:Array},setup(t){const i=t,c=S({message:""}),s=()=>{c.post(route("chat.store",i.receiver.id),{onSuccess:()=>{c.reset("message")}})};return(h,_)=>(a(),o("div",P,[e("form",{onSubmit:O(s,["prevent"])},[e("div",V,[z(e("input",{type:"text",class:"h-16 overflow-y-auto pt-2 border-0 hover:border-0 focus:border-0 focus:ring-0 !shadow-none focus:!outline-none w-full text-slate-300 font-medium text-md",placeholder:"Ketik pesan....",name:"message","onUpdate:modelValue":_[0]||(_[0]=l=>n(c).message=l)},null,512),[[I,n(c).message]]),U])],32)]))}},m=t=>(g("data-v-e9af3181"),t=t(),y(),t),F={key:0,class:"space-y-3"},L={class:"chat chat-start flex w-full items-center relative"},D={class:"block"},E=m(()=>e("div",{class:"chat-header"},[e("time",{class:"text-xs text-slate-200"},"12.30")],-1)),K={class:"chat-bubble bg-hoverPrimary text-white flex flex-wrap text-md pr-5"},q={class:"dropdown dropdown-right w-8 h-8 rounded-full hover:bg-white-50 hover:cursor-pointer flex justify-center items-center translate-y-2 relative z-10 -translate-x-2",tabindex:"0"},R=m(()=>e("button",{class:"relative"},[e("i",{class:"bx bx-dots-vertical-rounded bx-xs text-slate-200 m-auto"})],-1)),G={class:"dropdown-content menu p-2 shadow bg-white rounded-md w-40"},J={class:"py-1 w-full hover:bg-white-50 rounded-md"},Q=m(()=>e("i",{class:"bx bxs-flag-alt text-primaryColor text-[16px]"},null,-1)),W={key:1},X={class:"chat chat-end"},Y={class:"flex justify-between items-center text-left"},Z={class:"dropdown dropdown-left w-8 h-8 rounded-full hover:bg-white-50 hover:cursor-pointer flex justify-center items-center relative z-10 translate-y-3 -translate-x-3",tabindex:"0"},ee=m(()=>e("button",{class:"relative"},[e("i",{class:"bx bx-dots-vertical-rounded bx-xs text-slate-200 m-auto"})],-1)),te={class:"dropdown-content menu p-2 shadow bg-white rounded-md w-40"},se={class:"py-1 w-full hover:bg-white-50 rounded-md"},ae=m(()=>e("i",{class:"bx bx-trash text-hoverPrimary text-[16px]"},null,-1)),oe={class:"block"},ce=m(()=>e("div",{class:"chat-header"},[e("time",{class:"text-xs text-slate-200"},"15.30")],-1)),ie={class:"chat-bubble bg-white-50 text-slate-300 flex flex-wrap text-md pl-5"},re={__name:"ChatMessages",props:{messages:Array,auth_id:[String,Number]},setup(t){const i=t,c=j(null),s=h=>h.receiver_id===i.auth_id;return T(()=>i.messages,()=>{N(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)})},{deep:!0}),$(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)}),(h,_)=>(a(),o("div",{ref_key:"chatContainer",ref:c,class:"chat-container"},[(a(!0),o(C,null,M(t.messages,(l,v)=>(a(),o("div",{key:v,class:k([s(l)?"justify-start":"justify-end","relative","flex"])},[s(l)?(a(),o("div",F,[e("div",L,[e("div",D,[E,e("div",K,p(l.message),1)]),e("div",q,[R,e("ul",G,[e("li",J,[r(n(x),{class:"hover:text-slate-300 flex"},{default:u(()=>[Q,d(" Laporkan ")]),_:1})])])])])])):(a(),o("div",W,[e("div",X,[e("div",Y,[e("div",Z,[ee,e("ul",te,[e("li",se,[r(n(x),{class:"hover:text-slate-300 flex"},{default:u(()=>[ae,d(" Hapus ")]),_:1})])])]),e("div",oe,[ce,e("div",ie,p(l.message),1)])])])]))],2))),128))],512))}},le=b(re,[["__scopeId","data-v-e9af3181"]]),f=t=>(g("data-v-0029a1f4"),t=t(),y(),t),ne={class:"-translate-y-5 block"},de={class:"search-box h-20 text-slate-300 flex justify-between px-5 pb-5 py-2 bg-hoverPrimary items-center"},he=f(()=>e("form",{class:"flex justify-start text-start -translate-x-5 translate-y-5 items-center"},[e("div",{class:"relative"},[e("input",{type:"search",class:"peer bg-white text-md rounded-md py-2 pl-10 placeholder:text-slate-200 border-none focus:ring-2 focus:ring-slate-300",placeholder:"Cari..."}),e("i",{class:"fa fa-search text-slate-200 z-10 absolute left-3 top-1/2 transform -translate-y-1/2 peer-focus:text-slate-300 peer-focus:z-10"})])],-1)),_e={class:"block"},ue={class:"dropdown dropdown-bottom flex justify-center items-center translate-y-5 relative",tabindex:"0"},xe=f(()=>e("button",{class:"relative m-auto translate-x-8 text-center w-12 h-12 hover:bg-[#4fdf69] rounded-full"},[e("i",{class:"bx bx-dots-vertical-rounded bx-sm mt-1 text-white"})],-1)),me={class:"dropdown-content relative menu p-2 shadow bg-white rounded-lg w-56"},fe=f(()=>e("h3",{class:"text-dark font-semibold text-lg p-2 capitalize"},"Filter chat",-1)),pe={class:"flex hover:bg-white-50 py-1 rounded-md text-slate-300 text-md"},ve=f(()=>e("i",{class:"bx bxs-message-alt-dots text-hoverPrimary text-[16px]"},null,-1)),be={class:"flex hover:bg-white-50 py-1 rounded-md text-slate-300 text-md"},ge=f(()=>e("i",{class:"bx bxs-chat text-hoverPrimary text-[16px]"},null,-1)),ye={class:"user-list h-screen overflow-y-auto"},we={class:"divide-y-2 divide-white-50"},$e={class:"flex justify-between items-center"},ke={class:"pr-4"},je={class:"flex px-3"},Ce={key:0},Me={class:"avatar online"},Se={class:"w-16 h-16 rounded-full"},ze={key:0,src:"https://cdn-icons-png.flaticon.com/512/194/194938.png"},Ie={key:1},Oe={class:"w-16 h-16 rounded-full"},Te={key:0,src:"https://cdn-icons-png.flaticon.com/512/194/194938.png"},Ne={class:"flex px-3 justify-center items-center"},Ae={class:"block"},He={class:"text-lg text-dark font-semibold flex gap-1"},Pe=f(()=>e("div",{class:"badge badge-primary w-4 h-4 p-2"},[e("span",{class:"text-white text-[9px] font-semibold"},"2")],-1)),Ve={class:"overflow-hidden text-md text-slate-300"},Ue={__name:"ChatSidebar",props:{recentMessages:Array,receiver:Object},setup(t){return(i,c)=>(a(),o("div",ne,[e("div",de,[he,e("div",_e,[e("div",ue,[xe,e("ul",me,[fe,e("li",pe,[r(n(x),{class:"hover:text-slate-300 flex"},{default:u(()=>[ve,d(" Chat yang belum dibaca ")]),_:1})]),e("li",be,[r(n(x),{class:"hover:text-slate-300 flex"},{default:u(()=>[ge,d(" Semua chat ")]),_:1})])])])])]),e("div",ye,[e("ul",we,[(a(!0),o(C,null,M(t.recentMessages,s=>(a(),o("li",{key:s.user_id,class:"hover:bg-white-50 transition"},[r(n(x),{href:i.route("chat.index",s.user_id),class:"px-5 py-3 transition hover:cursor-pointer w-full"},{default:u(()=>[e("div",$e,[e("div",ke,[e("div",je,[s.is_online?(a(),o("div",Ce,[e("div",Me,[e("div",Se,[(s==null?void 0:s.avatar)!==null?(a(),o("img",ze)):w("",!0)])])])):(a(),o("div",Ie,[e("div",Oe,[(s==null?void 0:s.avatar)!==null?(a(),o("img",Te)):w("",!0)])])),e("div",Ne,[e("div",Ae,[e("h3",He,[d(p(s.name)+" ",1),Pe]),e("span",Ve,p(s.message),1)])])])]),r(H,{user:s,class:"mr-5 text-sm"},null,8,["user"])])]),_:2},1032,["href"])]))),128))])])]))}},Be=b(Ue,[["__scopeId","data-v-0029a1f4"]]),Fe={class:"user-info-header bg-white-50 px-5 py-[12px]"},Le={class:"flex justify-between"},De={class:"flex items-center"},Ee={key:0,src:"https://cdn-icons-png.flaticon.com/512/194/194938.png",width:"50"},Ke={key:1,class:"fa fa-user-circle text-gray-300 text-5xl"},qe={class:"block pl-4"},Re={class:"text-lg text-dark font-semibold"},Ge=e("span",{class:"italic capitalize text-sm font-medium text-slate-300"}," mengetik... ",-1),Je={class:"flex items-center justify-center"},Qe=e("i",{class:"bx bx-left-arrow-alt mr-1 bx-sm"},null,-1),We={__name:"ChatUserInfoHeader",props:{receiver:Object},setup(t){return(i,c)=>{var s,h;return a(),o("div",Fe,[e("div",Le,[e("div",De,[((s=t.receiver)==null?void 0:s.avatar)!==null?(a(),o("img",Ee)):(a(),o("i",Ke)),e("div",qe,[e("h3",Re,p((h=t.receiver)==null?void 0:h.name),1),Ge])]),e("div",Je,[r(n(x),{href:i.route("Home"),class:"flex text-dark font-semibold capitalize text-md px-6 py-[12px] rounded-full hover:bg-[#e0dede] transition"},{default:u(()=>[Qe,d("Kembali ")]),_:1},8,["href"])])])])}}},Xe=t=>(g("data-v-149d42b5"),t=t(),y(),t),Ye={class:"messenger h-screen overflow-hidden"},Ze={class:"flex"},et={class:"basis-2/6 border-r border-white-50 bg-white pt-3 relative z-50"},tt={class:"w-4/6"},st={key:0},at={class:"messenger mt-5"},ot={class:"px-4 -translate-y-7"},ct={class:"relative z-10"},it={key:1,class:"flex justify-center items-center bg-[#fdfdfd] h-screen"},rt=Xe(()=>e("div",{class:"flex flex-wrap px-40 justify-center items-center font-inter mb-20 space-y-3 w-full"},[e("h3",{class:"text-3xl text-center flex font-bold text-dark capitalize"},"Tanyakan soal produk"),e("p",{class:"text-center font-medium text-slate-300 text-md"},[d("Mulailah obrolan anda tanpa batas dengan seller dan user lainya yang "),e("br"),d(" bertujuan untuk menanyakan hal seputar produk")])],-1)),lt="/assets/img/ilustration/ilustration8.png",nt={__name:"Chat",props:{auth:Object,errors:Object,recentMessages:Array,receiver:Object,messages:Array},setup(t){const c=j(t.messages||[]);return Echo.private("messenger.1.2").listen("MessageSent",async s=>{s.message&&c.value.push(s.message)}),(s,h)=>{var _,l,v;return a(),o("div",Ye,[e("div",Ze,[e("div",et,[r(Be,{recentMessages:t.recentMessages,class:"border-r border-white-50"},null,8,["recentMessages"])]),e("div",tt,[(_=t.receiver)!=null&&_.id?(a(),o("div",st,[r(We,{receiver:t.receiver},null,8,["receiver"]),e("div",at,[e("div",ot,[r(le,{messages:c.value,auth_id:(v=(l=t.auth)==null?void 0:l.user)==null?void 0:v.id},null,8,["messages","auth_id"])]),e("div",ct,[r(B,{receiver:t.receiver},null,8,["receiver"])])])])):(a(),o("div",it,[e("div",{class:"block justify-center items-center mx-auto"},[e("div",{class:"flex justify-center"},[e("img",{src:lt,alt:"Chat ilustration",class:"w-80 m-10"})]),rt])]))])])])}}},ut=b(nt,[["__scopeId","data-v-149d42b5"]]);export{ut as default};
